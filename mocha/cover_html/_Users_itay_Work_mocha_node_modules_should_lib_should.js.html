
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>/Users/itay/Work/mocha/node_modules/should/lib/should.js -- cover.io</title>
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
    <link href="bootstrap.css" rel="stylesheet">
    <link href="prettify.css" type="text/css" rel="stylesheet" />
    <style type="text/css">
      html, body {
        font-family: georgia, serif;
      }
      
      .content {
      }
      table#files-table {
        table-layout: fixed;
        width: 94%;
      }

      table#files-table td, table#files-table th {
        width: 11%;
        padding-left: 5px;
        padding-right: 5px;
      }
      
      table#files-table td:first-child, table#files-table th:first-child {
        width: 33%;
      }
        
      li.L0,li.L1,li.L2,li.L3,li.L4, li.L5,li.L6,li.L7,li.L8, li.L9 { background: transparent; }
      li.L1,li.L3,li.L5,li.L7,li.L9 { background: white; }
       
      li.covered {
        border-left: 2px solid lime; 
      }
      
      li.uncovered {
        background: #FDD;
        border-left: 2px solid red; 
      }
      
      li.partial {
        border-left: 2px solid #EE9; 
        background: #FFA;
      }
      
      .partialuncovered { 
        background: #EE9; 
      }
      
      ol.linenums { 
        font-size: 10px;
      }
      
      ol.linenums li  {
        line-height: 16px;
      }
      
      ol.linenums li span {
        font-size: 12px;
      }
      
      pre.prettyprint {
        padding-top: 1em;
        border: 5px;
        padding-left: 1.5em;
        padding-bottom: 2em;
        font-family: Consolas, Menlo, Monaco, 'Lucida Console', 'Liberation Mono', 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', 'Courier New', monospace, serif;

      }
      
      div.header {
        width: 100%;
        padding: 0;
        margin: 0;
        border-bottom: 1px solid #EEE;
        height: 90px;
        background: #F8F8F8;
      }
      
      div.header-content {
        padding: 1em 3em;
      }
      
      a.index {
        text-decoration: none;
        color: inherit;
        font-size: 11px;
      }
      
      a.coverio {
        text-decoration: none;
        color: inherit;
        font-size: 11px;
      }
      
      div.content > a.index {
        padding-left: 1.5em;
        padding-bottom: 2em;
      }
      
      div.header-content h3 {
        font-weight: normal;
      }
      
      span.filename {
        font-weight: bold;
      }
      
      span.percentage {
        font-weight: bold;
      }
      
      div.stats {
        font-size: 13px;
      }
      
      div.stats span.separator {
        margin-left: 10px;
        margin-right: 10px;
      }
      
      div.stats span.stat-descriptor {
        color: gray;
      }
      
    </style>

    <script src="jquery.min.js"></script>
    <script type="text/javascript" src="prettify.js"></script>
    <script >
      $(function() {
        prettyPrint();
        
        $("li span.covered").parent().addClass("covered");
        $("li span.uncovered").parent().addClass("uncovered");
        $("li span.partial").parent().addClass("partial");
      });
    </script>

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="images/favicon.ico">
    <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
  </head>

  <body>

      <div class="content">
        <div class="header">
          <div class="header-content">
            <a class="index" href="index.html">« index</a>
            <h3>Coverage for <span class="filename">/Users/itay/Work/mocha/node_modules/should/lib/should.js</span> : <span class="percentage">78%</span></h3>
            <div class="stats">
              646  <span class="stat-descriptor">lines</span>     <span class="separator">| </span> 
              504  <span class="stat-descriptor">run</span>        <span class="separator">| </span> 
              142  <span class="stat-descriptor">missing</span>    <span class="separator">| </span> 
              0  <span class="stat-descriptor">partial</span>      <span class="separator">| </span> 
              150  <span class="stat-descriptor">blocks</span>     <span class="separator">| </span> 
              5  <span class="stat-descriptor">blocks run</span>  <span class="separator">| </span> 
              145  <span class="stat-descriptor">blocks missing</span>
            </div>
          </div>
        </div>
        <pre class='prettyprint lang-js linenums'>
<span class='covered'>  /*!</span>
<span class='covered'>   * Should</span>
<span class='covered'>   * Copyright(c) 2010 TJ Holowaychuk <tj@vision-media.ca></span>
<span class='covered'>   * MIT Licensed</span>
<span class='covered'>   */</span>
<span class='covered'>  </span>
<span class='covered'>  /**</span>
<span class='covered'>   * Module dependencies.</span>
<span class='covered'>   */</span>
<span class='covered'>  </span>
<span class='covered'>  var util = require('util')</span>
<span class='covered'>    , http = require('http')</span>
<span class='covered'>    , assert = require('assert')</span>
<span class='covered'>    , AssertionError = assert.AssertionError</span>
<span class='covered'>    , statusCodes = http.STATUS_CODES</span>
<span class='covered'>    , eql = require('./eql')</span>
<span class='covered'>    , i = util.inspect;</span>
<span class='covered'>  </span>
<span class='covered'>  /**</span>
<span class='covered'>   * Expose assert as should.</span>
<span class='covered'>   * </span>
<span class='covered'>   * This allows you to do things like below</span>
<span class='covered'>   * without require()ing the assert module.</span>
<span class='covered'>   *</span>
<span class='covered'>   *    should.equal(foo.bar, undefined);</span>
<span class='covered'>   *</span>
<span class='covered'>   */</span>
<span class='covered'>  </span>
<span class='covered'>  exports = module.exports = assert;</span>
<span class='covered'>  </span>
<span class='covered'>  /**</span>
<span class='covered'>   * Library version.</span>
<span class='covered'>   */</span>
<span class='covered'>  </span>
<span class='covered'>  exports.version = '0.3.2';</span>
<span class='covered'>  </span>
<span class='covered'>  /**</span>
<span class='covered'>   * Assert _obj_ exists, with optional message.</span>
<span class='covered'>   *</span>
<span class='covered'>   * @param {Mixed} obj</span>
<span class='covered'>   * @param {String} msg</span>
<span class='covered'>   * @api public</span>
<span class='covered'>   */</span>
<span class='covered'>   </span>
<span class='covered'>  exports.exist = function(obj, msg){</span>
<span class='uncovered'>    if (null == obj) {</span>
<span class='uncovered'>      throw new AssertionError({</span>
<span class='uncovered'>          message: msg || ('expected ' + i(obj) + ' to exist')</span>
<span class='uncovered'>        , stackStartFunction: should.exist</span>
<span class='uncovered'>      });</span>
<span class='covered'>    }</span>
<span class='covered'>  };</span>
<span class='covered'>  </span>
<span class='covered'>  /**</span>
<span class='covered'>   * Asserts _obj_ does not exist, with optional message.</span>
<span class='covered'>   *</span>
<span class='covered'>   * @param {Mixed} obj</span>
<span class='covered'>   * @param {String} msg</span>
<span class='covered'>   * @api public</span>
<span class='covered'>   */</span>
<span class='covered'>  </span>
<span class='covered'>  exports.not = {};</span>
<span class='covered'>  exports.not.exist = function(obj, msg){</span>
<span class='uncovered'>    if (null != obj) {</span>
<span class='uncovered'>      throw new AssertionError({</span>
<span class='uncovered'>          message: msg || ('expected ' + i(obj) + ' to not exist')</span>
<span class='uncovered'>        , stackStartFunction: should.not.exist</span>
<span class='uncovered'>      });</span>
<span class='covered'>    }</span>
<span class='covered'>  };</span>
<span class='covered'>  </span>
<span class='covered'>  /**</span>
<span class='covered'>   * Expose api via `Object#should`.</span>
<span class='covered'>   *</span>
<span class='covered'>   * @api public</span>
<span class='covered'>   */</span>
<span class='covered'>  </span>
<span class='covered'>  Object.defineProperty(Object.prototype, 'should', {</span>
<span class='covered'>    set: function(){},</span>
<span class='covered'>    get: function(){</span>
<span class='covered'>      return new Assertion(this);</span>
<span class='covered'>    },</span>
<span class='covered'>    configurable: true</span>
<span class='covered'>  });</span>
<span class='covered'>  </span>
<span class='covered'>  /**</span>
<span class='covered'>   * Initialize a new `Assertion` with the given _obj_.</span>
<span class='covered'>   *</span>
<span class='covered'>   * @param {Mixed} obj</span>
<span class='covered'>   * @api private</span>
<span class='covered'>   */</span>
<span class='covered'>  </span>
<span class='covered'>  var Assertion = exports.Assertion = function Assertion(obj) {</span>
<span class='uncovered'>    this.obj = obj;</span>
<span class='covered'>  };</span>
<span class='covered'>  </span>
<span class='covered'>  /**</span>
<span class='covered'>   * Prototype.</span>
<span class='covered'>   */</span>
<span class='covered'>  </span>
<span class='covered'>  Assertion.prototype = {</span>
<span class='covered'>  </span>
<span class='covered'>    /**</span>
<span class='covered'>     * HACK: prevents double require() from failing.</span>
<span class='covered'>     */</span>
<span class='covered'>    </span>
<span class='covered'>    exports: exports,</span>
<span class='covered'>  </span>
<span class='covered'>    /**</span>
<span class='covered'>     * Assert _expr_ with the given _msg_ and _negatedMsg_.</span>
<span class='covered'>     *</span>
<span class='covered'>     * @param {Boolean} expr</span>
<span class='covered'>     * @param {String} msg</span>
<span class='covered'>     * @param {String} negatedMsg</span>
<span class='covered'>     * @api private</span>
<span class='covered'>     */</span>
<span class='covered'>  </span>
<span class='covered'>    assert: function(expr, msg, negatedMsg){</span>
<span class='uncovered'>      var msg = this.negate ? negatedMsg : msg</span>
<span class='uncovered'>        , ok = this.negate ? !expr : expr;</span>
<span class='uncovered'>      if (!ok) {</span>
<span class='uncovered'>        throw new AssertionError({</span>
<span class='uncovered'>            message: msg</span>
<span class='uncovered'>          , stackStartFunction: this.assert</span>
<span class='uncovered'>        });</span>
<span class='covered'>      }</span>
<span class='covered'>    },</span>
<span class='covered'>  </span>
<span class='covered'>    /**</span>
<span class='covered'>     * Dummy getter.</span>
<span class='covered'>     *</span>
<span class='covered'>     * @api public</span>
<span class='covered'>     */</span>
<span class='covered'>    </span>
<span class='covered'>    get an() {</span>
<span class='covered'>      return this;</span>
<span class='covered'>    },</span>
<span class='covered'>    </span>
<span class='covered'>    /**</span>
<span class='covered'>     * Dummy getter.</span>
<span class='covered'>     *</span>
<span class='covered'>     * @api public</span>
<span class='covered'>     */</span>
<span class='covered'>    </span>
<span class='covered'>    get and() {</span>
<span class='covered'>      return this;</span>
<span class='covered'>    },</span>
<span class='covered'>    </span>
<span class='covered'>    /**</span>
<span class='covered'>     * Dummy getter.</span>
<span class='covered'>     *</span>
<span class='covered'>     * @api public</span>
<span class='covered'>     */</span>
<span class='covered'>    </span>
<span class='covered'>    get be() {</span>
<span class='covered'>      return this;</span>
<span class='covered'>    },</span>
<span class='covered'>  </span>
<span class='covered'>    /**</span>
<span class='covered'>     * Dummy getter.</span>
<span class='covered'>     *</span>
<span class='covered'>     * @api public</span>
<span class='covered'>     */</span>
<span class='covered'>    </span>
<span class='covered'>    get have() {</span>
<span class='covered'>      return this;</span>
<span class='covered'>    },</span>
<span class='covered'>    </span>
<span class='covered'>    /**</span>
<span class='covered'>     * Dummy getter.</span>
<span class='covered'>     *</span>
<span class='covered'>     * @api public</span>
<span class='covered'>     */</span>
<span class='covered'>    </span>
<span class='covered'>    get with() {</span>
<span class='covered'>      return this;</span>
<span class='covered'>    },</span>
<span class='covered'>    </span>
<span class='covered'>    /**</span>
<span class='covered'>     * Inclusion modifier.</span>
<span class='covered'>     *</span>
<span class='covered'>     * @api public</span>
<span class='covered'>     */</span>
<span class='covered'>    </span>
<span class='covered'>    get include() {</span>
<span class='uncovered'>      this.includes = true;</span>
<span class='covered'>      return this;</span>
<span class='covered'>    },</span>
<span class='covered'>  </span>
<span class='covered'>    /**</span>
<span class='covered'>     * Negation modifier.</span>
<span class='covered'>     *</span>
<span class='covered'>     * @api public</span>
<span class='covered'>     */</span>
<span class='covered'>    </span>
<span class='covered'>    get not() {</span>
<span class='uncovered'>      this.negate = true;</span>
<span class='covered'>      return this;</span>
<span class='covered'>    },</span>
<span class='covered'>    </span>
<span class='covered'>    /**</span>
<span class='covered'>     * Get object inspection string.</span>
<span class='covered'>     *</span>
<span class='covered'>     * @return {String}</span>
<span class='covered'>     * @api private</span>
<span class='covered'>     */</span>
<span class='covered'>    </span>
<span class='covered'>    get inspect() {</span>
<span class='uncovered'>      return i(this.obj);</span>
<span class='covered'>    },</span>
<span class='covered'>  </span>
<span class='covered'>    /**</span>
<span class='covered'>     * Assert instanceof `Arguments`.</span>
<span class='covered'>     *</span>
<span class='covered'>     * @api public</span>
<span class='covered'>     */</span>
<span class='covered'>  </span>
<span class='covered'>    get arguments() {</span>
<span class='uncovered'>      this.assert(</span>
<span class='uncovered'>          '[object Arguments]' == Object.prototype.toString.call(this.obj)</span>
<span class='uncovered'>        , 'expected ' + this.inspect + ' to be arguments'</span>
<span class='uncovered'>        , 'expected ' + this.inspect + ' to not be arguments');</span>
<span class='covered'>      return this;</span>
<span class='covered'>    },</span>
<span class='covered'>  </span>
<span class='covered'>    /**</span>
<span class='covered'>     * Assert that an object is empty aka length of 0.</span>
<span class='covered'>     *</span>
<span class='covered'>     * @api public</span>
<span class='covered'>     */</span>
<span class='covered'>    </span>
<span class='covered'>    get empty() {</span>
<span class='uncovered'>      this.obj.should.have.property('length');</span>
<span class='uncovered'>      this.assert(</span>
<span class='uncovered'>          0 === this.obj.length</span>
<span class='uncovered'>        , 'expected ' + this.inspect + ' to be empty'</span>
<span class='uncovered'>        , 'expected ' + this.inspect + ' not to be empty');</span>
<span class='covered'>      return this;</span>
<span class='covered'>    },</span>
<span class='covered'>  </span>
<span class='covered'>    /**</span>
<span class='covered'>     * Assert ok.</span>
<span class='covered'>     *</span>
<span class='covered'>     * @api public</span>
<span class='covered'>     */</span>
<span class='covered'>    </span>
<span class='covered'>    get ok() {</span>
<span class='uncovered'>      this.assert(</span>
<span class='uncovered'>          this.obj</span>
<span class='uncovered'>        , 'expected ' + this.inspect + ' to be truthy'</span>
<span class='uncovered'>        , 'expected ' + this.inspect + ' to be falsey');</span>
<span class='covered'>      return this;</span>
<span class='covered'>    },</span>
<span class='covered'>    </span>
<span class='covered'>    /**</span>
<span class='covered'>     * Assert true.</span>
<span class='covered'>     *</span>
<span class='covered'>     * @api public</span>
<span class='covered'>     */</span>
<span class='covered'>    </span>
<span class='covered'>    get true() {</span>
<span class='uncovered'>      this.assert(</span>
<span class='uncovered'>          true === this.obj</span>
<span class='uncovered'>        , 'expected ' + this.inspect + ' to be true'</span>
<span class='uncovered'>        , 'expected ' + this.inspect + ' not to be true');</span>
<span class='covered'>      return this;</span>
<span class='covered'>    },</span>
<span class='covered'>    </span>
<span class='covered'>    /**</span>
<span class='covered'>     * Assert false.</span>
<span class='covered'>     *</span>
<span class='covered'>     * @api public</span>
<span class='covered'>     */</span>
<span class='covered'>    </span>
<span class='covered'>    get false() {</span>
<span class='uncovered'>      this.assert(</span>
<span class='uncovered'>          false === this.obj</span>
<span class='uncovered'>        , 'expected ' + this.inspect + ' to be false'</span>
<span class='uncovered'>        , 'expected ' + this.inspect + ' not to be false');</span>
<span class='covered'>      return this;</span>
<span class='covered'>    },</span>
<span class='covered'>    </span>
<span class='covered'>    /**</span>
<span class='covered'>     * Assert equal. </span>
<span class='covered'>     *</span>
<span class='covered'>     * @param {Mixed} val</span>
<span class='covered'>     * @api public</span>
<span class='covered'>     */</span>
<span class='covered'>    </span>
<span class='covered'>    eql: function(val){</span>
<span class='uncovered'>      this.assert(</span>
<span class='uncovered'>          eql(val, this.obj)</span>
<span class='uncovered'>        , 'expected ' + this.inspect + ' to equal ' + i(val)</span>
<span class='uncovered'>        , 'expected ' + this.inspect + ' to not equal ' + i(val));</span>
<span class='covered'>      return this;</span>
<span class='covered'>    },</span>
<span class='covered'>    </span>
<span class='covered'>    /**</span>
<span class='covered'>     * Assert strict equal. </span>
<span class='covered'>     *</span>
<span class='covered'>     * @param {Mixed} val</span>
<span class='covered'>     * @api public</span>
<span class='covered'>     */</span>
<span class='covered'>    </span>
<span class='covered'>    equal: function(val){</span>
<span class='uncovered'>      this.assert(</span>
<span class='uncovered'>          val === this.obj</span>
<span class='uncovered'>        , 'expected ' + this.inspect + ' to equal ' + i(val)</span>
<span class='uncovered'>        , 'expected ' + this.inspect + ' to not equal ' + i(val));</span>
<span class='covered'>      return this;</span>
<span class='covered'>    },</span>
<span class='covered'>    </span>
<span class='covered'>    /**</span>
<span class='covered'>     * Assert within start to finish (inclusive). </span>
<span class='covered'>     *</span>
<span class='covered'>     * @param {Number} start</span>
<span class='covered'>     * @param {Number} finish</span>
<span class='covered'>     * @api public</span>
<span class='covered'>     */</span>
<span class='covered'>    </span>
<span class='covered'>    within: function(start, finish){</span>
<span class='uncovered'>      var range = start + '..' + finish;</span>
<span class='uncovered'>      this.assert(</span>
<span class='uncovered'>          this.obj >= start && this.obj &lt;= finish</span>
<span class='uncovered'>        , 'expected ' + this.inspect + ' to be within ' + range</span>
<span class='uncovered'>        , 'expected ' + this.inspect + ' to not be within ' + range);</span>
<span class='covered'>      return this;</span>
<span class='covered'>    },</span>
<span class='covered'>    </span>
<span class='covered'>    /**</span>
<span class='covered'>     * Assert typeof. </span>
<span class='covered'>     *</span>
<span class='covered'>     * @api public</span>
<span class='covered'>     */</span>
<span class='covered'>    </span>
<span class='covered'>    a: function(type){</span>
<span class='uncovered'>      this.assert(</span>
<span class='uncovered'>          type == typeof this.obj</span>
<span class='uncovered'>        , 'expected ' + this.inspect + ' to be a ' + type</span>
<span class='uncovered'>        , 'expected ' + this.inspect + ' not to be a ' + type);</span>
<span class='covered'>      return this;</span>
<span class='covered'>    },</span>
<span class='covered'>    </span>
<span class='covered'>    /**</span>
<span class='covered'>     * Assert instanceof. </span>
<span class='covered'>     *</span>
<span class='covered'>     * @api public</span>
<span class='covered'>     */</span>
<span class='covered'>    </span>
<span class='covered'>    instanceof: function(constructor){</span>
<span class='uncovered'>      var name = constructor.name;</span>
<span class='uncovered'>      this.assert(</span>
<span class='uncovered'>          this.obj instanceof constructor</span>
<span class='uncovered'>        , 'expected ' + this.inspect + ' to be an instance of ' + name</span>
<span class='uncovered'>        , 'expected ' + this.inspect + ' not to be an instance of ' + name);</span>
<span class='covered'>      return this;</span>
<span class='covered'>    },</span>
<span class='covered'>  </span>
<span class='covered'>    /**</span>
<span class='covered'>     * Assert numeric value above _n_.</span>
<span class='covered'>     *</span>
<span class='covered'>     * @param {Number} n</span>
<span class='covered'>     * @api public</span>
<span class='covered'>     */</span>
<span class='covered'>    </span>
<span class='covered'>    above: function(n){</span>
<span class='uncovered'>      this.assert(</span>
<span class='uncovered'>          this.obj > n</span>
<span class='uncovered'>        , 'expected ' + this.inspect + ' to be above ' + n</span>
<span class='uncovered'>        , 'expected ' + this.inspect + ' to be below ' + n);</span>
<span class='covered'>      return this;</span>
<span class='covered'>    },</span>
<span class='covered'>    </span>
<span class='covered'>    /**</span>
<span class='covered'>     * Assert numeric value below _n_.</span>
<span class='covered'>     *</span>
<span class='covered'>     * @param {Number} n</span>
<span class='covered'>     * @api public</span>
<span class='covered'>     */</span>
<span class='covered'>    </span>
<span class='covered'>    below: function(n){</span>
<span class='uncovered'>      this.assert(</span>
<span class='uncovered'>          this.obj &lt; n</span>
<span class='uncovered'>        , 'expected ' + this.inspect + ' to be below ' + n</span>
<span class='uncovered'>        , 'expected ' + this.inspect + ' to be above ' + n);</span>
<span class='covered'>      return this;</span>
<span class='covered'>    },</span>
<span class='covered'>    </span>
<span class='covered'>    /**</span>
<span class='covered'>     * Assert string value matches _regexp_.</span>
<span class='covered'>     *</span>
<span class='covered'>     * @param {RegExp} regexp</span>
<span class='covered'>     * @api public</span>
<span class='covered'>     */</span>
<span class='covered'>    </span>
<span class='covered'>    match: function(regexp){</span>
<span class='uncovered'>      this.assert(</span>
<span class='uncovered'>          regexp.exec(this.obj)</span>
<span class='uncovered'>        , 'expected ' + this.inspect + ' to match ' + regexp</span>
<span class='uncovered'>        , 'expected ' + this.inspect + ' not to match ' + regexp);</span>
<span class='covered'>      return this;</span>
<span class='covered'>    },</span>
<span class='covered'>    </span>
<span class='covered'>    /**</span>
<span class='covered'>     * Assert property "length" exists and has value of _n_.</span>
<span class='covered'>     *</span>
<span class='covered'>     * @param {Number} n</span>
<span class='covered'>     * @api public</span>
<span class='covered'>     */</span>
<span class='covered'>    </span>
<span class='covered'>    length: function(n){</span>
<span class='uncovered'>      this.obj.should.have.property('length');</span>
<span class='uncovered'>      var len = this.obj.length;</span>
<span class='uncovered'>      this.assert(</span>
<span class='uncovered'>          n == len</span>
<span class='uncovered'>        , 'expected ' + this.inspect + ' to have a length of ' + n + ' but got ' + len</span>
<span class='uncovered'>        , 'expected ' + this.inspect + ' to not have a length of ' + len);</span>
<span class='covered'>      return this;</span>
<span class='covered'>    },</span>
<span class='covered'>    </span>
<span class='covered'>    /**</span>
<span class='covered'>     * Assert substring.</span>
<span class='covered'>     *</span>
<span class='covered'>     * @param {String} str</span>
<span class='covered'>     * @api public</span>
<span class='covered'>     */</span>
<span class='covered'>  </span>
<span class='covered'>    string: function(str){</span>
<span class='uncovered'>      this.obj.should.be.a('string');</span>
<span class='uncovered'>      this.assert(</span>
<span class='uncovered'>          ~this.obj.indexOf(str)</span>
<span class='uncovered'>        , 'expected ' + this.inspect + ' to include ' + i(str)</span>
<span class='uncovered'>        , 'expected ' + this.inspect + ' to not include ' + i(str));</span>
<span class='covered'>      return this;</span>
<span class='covered'>    },</span>
<span class='covered'>  </span>
<span class='covered'>    /**</span>
<span class='covered'>     * Assert inclusion of object.</span>
<span class='covered'>     *</span>
<span class='covered'>     * @param {Object} obj</span>
<span class='covered'>     * @api public</span>
<span class='covered'>     */</span>
<span class='covered'>  </span>
<span class='covered'>    object: function(obj){</span>
<span class='uncovered'>      this.obj.should.be.a('object');</span>
<span class='uncovered'>      var included = true;</span>
<span class='covered'>      for (var key in obj) {</span>
<span class='uncovered'>        if (obj.hasOwnProperty(key) && !eql(obj[key], this.obj[key])) {</span>
<span class='uncovered'>          included = false;</span>
<span class='covered'>          break;</span>
<span class='covered'>        }</span>
<span class='covered'>      }</span>
<span class='uncovered'>      this.assert(</span>
<span class='uncovered'>          included</span>
<span class='uncovered'>        , 'expected ' + this.inspect + ' to include ' + i(obj)</span>
<span class='uncovered'>        , 'expected ' + this.inspect + ' to not include ' + i(obj));</span>
<span class='covered'>      return this;</span>
<span class='covered'>    },</span>
<span class='covered'>  </span>
<span class='covered'>    /**</span>
<span class='covered'>     * Assert property _name_ exists, with optional _val_.</span>
<span class='covered'>     *</span>
<span class='covered'>     * @param {String} name</span>
<span class='covered'>     * @param {Mixed} val</span>
<span class='covered'>     * @api public</span>
<span class='covered'>     */</span>
<span class='covered'>    </span>
<span class='covered'>    property: function(name, val){</span>
<span class='uncovered'>      if (this.negate && undefined !== val) {</span>
<span class='uncovered'>        if (undefined === this.obj[name]) {</span>
<span class='uncovered'>          throw new Error(this.inspect + ' has no property ' + i(name));</span>
<span class='covered'>        }</span>
<span class='covered'>      } else {</span>
<span class='uncovered'>        this.assert(</span>
<span class='uncovered'>            undefined !== this.obj[name]</span>
<span class='uncovered'>          , 'expected ' + this.inspect + ' to have a property ' + i(name)</span>
<span class='uncovered'>          , 'expected ' + this.inspect + ' to not have a property ' + i(name));</span>
<span class='covered'>      }</span>
<span class='covered'>      </span>
<span class='uncovered'>      if (undefined !== val) {</span>
<span class='uncovered'>        this.assert(</span>
<span class='uncovered'>            val === this.obj[name]</span>
<span class='uncovered'>          , 'expected ' + this.inspect + ' to have a property ' + i(name)</span>
<span class='uncovered'>            + ' of ' + i(val) + ', but got ' + i(this.obj[name])</span>
<span class='uncovered'>          , 'expected ' + this.inspect + ' to not have a property ' + i(name) + ' of ' + i(val));</span>
<span class='covered'>      }</span>
<span class='covered'>  </span>
<span class='uncovered'>      this.obj = this.obj[name];</span>
<span class='covered'>      return this;</span>
<span class='covered'>    },</span>
<span class='covered'>    </span>
<span class='covered'>    /**</span>
<span class='covered'>     * Assert own property _name_ exists.</span>
<span class='covered'>     *</span>
<span class='covered'>     * @param {String} name</span>
<span class='covered'>     * @api public</span>
<span class='covered'>     */</span>
<span class='covered'>    </span>
<span class='covered'>    ownProperty: function(name){</span>
<span class='uncovered'>      this.assert(</span>
<span class='uncovered'>          this.obj.hasOwnProperty(name)</span>
<span class='uncovered'>        , 'expected ' + this.inspect + ' to have own property ' + i(name)</span>
<span class='uncovered'>        , 'expected ' + this.inspect + ' to not have own property ' + i(name));</span>
<span class='covered'>      return this;</span>
<span class='covered'>    },</span>
<span class='covered'>  </span>
<span class='covered'>    /**</span>
<span class='covered'>     * Assert that the array contains _obj_.</span>
<span class='covered'>     *</span>
<span class='covered'>     * @param {Mixed} obj</span>
<span class='covered'>     * @api public</span>
<span class='covered'>     */</span>
<span class='covered'>  </span>
<span class='covered'>    contain: function(obj){</span>
<span class='uncovered'>      this.obj.should.be.an.instanceof(Array);</span>
<span class='uncovered'>      this.assert(</span>
<span class='uncovered'>          ~this.obj.indexOf(obj)</span>
<span class='uncovered'>        , 'expected ' + this.inspect + ' to contain ' + i(obj)</span>
<span class='uncovered'>        , 'expected ' + this.inspect + ' to not contain ' + i(obj));</span>
<span class='covered'>      return this;</span>
<span class='covered'>    },</span>
<span class='covered'>    </span>
<span class='covered'>    /**</span>
<span class='covered'>     * Assert exact keys or inclusion of keys by using</span>
<span class='covered'>     * the `.include` modifier.</span>
<span class='covered'>     *</span>
<span class='covered'>     * @param {Array|String ...} keys</span>
<span class='covered'>     * @api public</span>
<span class='covered'>     */</span>
<span class='covered'>    </span>
<span class='covered'>    keys: function(keys){</span>
<span class='uncovered'>      var str</span>
<span class='uncovered'>        , ok = true;</span>
<span class='covered'>  </span>
<span class='uncovered'>      keys = keys instanceof Array</span>
<span class='uncovered'>        ? keys</span>
<span class='uncovered'>        : Array.prototype.slice.call(arguments);</span>
<span class='covered'>  </span>
<span class='uncovered'>      if (!keys.length) throw new Error('keys required');</span>
<span class='covered'>  </span>
<span class='uncovered'>      var actual = Object.keys(this.obj)</span>
<span class='uncovered'>        , len = keys.length;</span>
<span class='covered'>  </span>
<span class='covered'>      // Inclusion</span>
<span class='uncovered'>      ok = keys.every(function(key){</span>
<span class='uncovered'>        return ~actual.indexOf(key);</span>
<span class='uncovered'>      });</span>
<span class='covered'>  </span>
<span class='covered'>      // Strict</span>
<span class='uncovered'>      if (!this.negate && !this.includes) {</span>
<span class='uncovered'>        ok = ok && keys.length == actual.length;</span>
<span class='covered'>      }</span>
<span class='covered'>  </span>
<span class='covered'>      // Key string</span>
<span class='uncovered'>      if (len > 1) {</span>
<span class='uncovered'>        keys = keys.map(function(key){</span>
<span class='uncovered'>          return i(key);</span>
<span class='uncovered'>        });</span>
<span class='uncovered'>        var last = keys.pop();</span>
<span class='uncovered'>        str = keys.join(', ') + ', and ' + last;</span>
<span class='covered'>      } else {</span>
<span class='uncovered'>        str = i(keys[0]);</span>
<span class='covered'>      }</span>
<span class='covered'>  </span>
<span class='covered'>      // Form</span>
<span class='uncovered'>      str = (len > 1 ? 'keys ' : 'key ') + str;</span>
<span class='covered'>  </span>
<span class='covered'>      // Have / include</span>
<span class='uncovered'>      str = (this.includes ? 'include ' : 'have ') + str;</span>
<span class='covered'>  </span>
<span class='covered'>      // Assertion</span>
<span class='uncovered'>      this.assert(</span>
<span class='uncovered'>          ok</span>
<span class='uncovered'>        , 'expected ' + this.inspect + ' to ' + str</span>
<span class='uncovered'>        , 'expected ' + this.inspect + ' to not ' + str);</span>
<span class='covered'>  </span>
<span class='covered'>      return this;</span>
<span class='covered'>    },</span>
<span class='covered'>  </span>
<span class='covered'>    /**</span>
<span class='covered'>     * Assert that _method_ is a function.</span>
<span class='covered'>     *</span>
<span class='covered'>     * @param {String} method</span>
<span class='covered'>     * @api public</span>
<span class='covered'>     */</span>
<span class='covered'>  </span>
<span class='covered'>    respondTo: function(method){</span>
<span class='uncovered'>      this.assert(</span>
<span class='uncovered'>        'function' == typeof this.obj[method]</span>
<span class='uncovered'>        , 'expected ' + this.inspect + ' to respond to ' + method + '()'</span>
<span class='uncovered'>        , 'expected ' + this.inspect + ' to not respond to ' + method + '()');</span>
<span class='covered'>      return this;</span>
<span class='covered'>    },</span>
<span class='covered'>    </span>
<span class='covered'>    /**</span>
<span class='covered'>     * Assert that header `field` has the given `val`. </span>
<span class='covered'>     *</span>
<span class='covered'>     * @param {String} field</span>
<span class='covered'>     * @param {String} val</span>
<span class='covered'>     * @return {Assertion} for chaining</span>
<span class='covered'>     * @api public</span>
<span class='covered'>     */</span>
<span class='covered'>  </span>
<span class='covered'>    header: function(field, val){</span>
<span class='uncovered'>      this.obj.should.have.property('headers');</span>
<span class='uncovered'>      this.obj.headers.should.have.property(field.toLowerCase(), val);</span>
<span class='covered'>      return this;</span>
<span class='covered'>    },</span>
<span class='covered'>    </span>
<span class='covered'>    /**</span>
<span class='covered'>     * Assert `.statusCode` of `code`.</span>
<span class='covered'>     *</span>
<span class='covered'>     * @param {Number} code</span>
<span class='covered'>     * @return {Assertion} for chaining</span>
<span class='covered'>     * @api public</span>
<span class='covered'>     */</span>
<span class='covered'>  </span>
<span class='covered'>    status:  function(code){</span>
<span class='uncovered'>      this.obj.should.have.property('statusCode');</span>
<span class='uncovered'>      var status = this.obj.statusCode;</span>
<span class='covered'>  </span>
<span class='uncovered'>      this.assert(</span>
<span class='uncovered'>          code == status</span>
<span class='uncovered'>        , 'expected response code of ' + code + ' ' + i(statusCodes[code])</span>
<span class='uncovered'>          + ', but got ' + status + ' ' + i(statusCodes[status])</span>
<span class='uncovered'>        , 'expected to not respond with ' + code + ' ' + i(statusCodes[code]));</span>
<span class='covered'>  </span>
<span class='covered'>      return this;</span>
<span class='covered'>    }</span>
<span class='covered'>  };</span>
<span class='covered'>  </span>
<span class='covered'>  /**</span>
<span class='covered'>   * Aliases.</span>
<span class='covered'>   */</span>
<span class='covered'>  </span>
<span class='covered'>  (function alias(name, as){</span>
<span class='covered'>    Assertion.prototype[as] = Assertion.prototype[name];</span>
<span class='covered'>    return alias;</span>
<span class='covered'>  })</span>
<span class='covered'>  ('length', 'lengthOf')</span>
<span class='covered'>  ('keys', 'key')</span>
<span class='covered'>  ('ownProperty', 'haveOwnProperty')</span>
<span class='covered'>  ('above', 'greaterThan')</span>
<span class='covered'>  ('below', 'lessThan');</span>
<span class='covered'>  </span>
<span class='covered'>  </span>
</pre>
        <a class="index" href="index.html">« index</a> | <a class="coverio" href="http://cover.io">cover.io</a>
      </div>
  </body>
</html>
